<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="controllers.MyItemsController"
      styleClass="my-items-view"
      stylesheets="/styles/styles.css"
      spacing="15">
      
    <padding>
        <Insets bottom="20" left="20" right="20" top="20"/>
    </padding>
    
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label text="My Food Items" styleClass="view-title"/>
        <Region HBox.hgrow="ALWAYS" />
        <ComboBox fx:id="filterComboBox" promptText="Filter by category" />
        <TextField fx:id="searchField" promptText="Search items..." prefWidth="200" />
    </HBox>
    
    <SplitPane dividerPositions="0.6" VBox.vgrow="ALWAYS">
        <!-- Left side: Table of food items -->
        <VBox spacing="10">
            <TableView fx:id="itemsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="nameColumn" text="Name" prefWidth="150" />
                    <TableColumn fx:id="quantityColumn" text="Quantity" prefWidth="100" />
                    <TableColumn fx:id="categoryColumn" text="Category" prefWidth="120" />
                    <TableColumn fx:id="expiryColumn" text="Expiry Date" prefWidth="120" />
                    <TableColumn fx:id="statusColumn" text="Status" prefWidth="100" />
                </columns>
            </TableView>
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button fx:id="removeButton" text="Remove" onAction="#handleRemove" />
                <Button fx:id="donateButton" text="Donate" onAction="#handleDonate" styleClass="action-button" />
                <Button fx:id="compostButton" text="Compost" onAction="#handleCompost" styleClass="action-button" />
            </HBox>
        </VBox>
        
        <!-- Right side: Selected item details -->
        <VBox spacing="10" styleClass="item-details-pane">
            <Label text="Item Details" styleClass="section-title"/>
            
            <GridPane fx:id="detailsPane" hgap="10" vgap="10" visible="false">
                <columnConstraints>
                    <ColumnConstraints hgrow="NEVER" minWidth="100" prefWidth="120" />
                    <ColumnConstraints hgrow="ALWAYS" minWidth="150" />
                </columnConstraints>
                
                <Label text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="0" styleClass="detail-label" />
                <Label fx:id="itemNameLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                
                <Label text="Quantity:" GridPane.columnIndex="0" GridPane.rowIndex="1" styleClass="detail-label" />
                <Label fx:id="quantityLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                
                <Label text="Category:" GridPane.columnIndex="0" GridPane.rowIndex="2" styleClass="detail-label" />
                <Label fx:id="categoryLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                
                <Label text="Created on:" GridPane.columnIndex="0" GridPane.rowIndex="3" styleClass="detail-label" />
                <Label fx:id="createdLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                
                <Label text="Expires on:" GridPane.columnIndex="0" GridPane.rowIndex="4" styleClass="detail-label" />
                <Label fx:id="expiryLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                
                <Label text="Days left:" GridPane.columnIndex="0" GridPane.rowIndex="5" styleClass="detail-label" />
                <Label fx:id="daysLeftLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="5" styleClass="days-left" />
                
                <Label text="Status:" GridPane.columnIndex="0" GridPane.rowIndex="6" styleClass="detail-label" />
                <Label fx:id="statusLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="6" />
                
                <Label text="Description:" GridPane.columnIndex="0" GridPane.rowIndex="7" styleClass="detail-label" />
                <TextArea fx:id="descriptionArea" editable="false" wrapText="true" prefHeight="60"
                         GridPane.columnIndex="0" GridPane.rowIndex="8" GridPane.columnSpan="2" />
                
                <Label text="Recommendation:" GridPane.columnIndex="0" GridPane.rowIndex="9" 
                      styleClass="detail-label" />
                <Label fx:id="recommendationLabel" text="" wrapText="true"
                      GridPane.columnIndex="0" GridPane.rowIndex="10" GridPane.columnSpan="2" 
                      styleClass="recommendation" />
            </GridPane>
            
            <VBox fx:id="noSelectionPane" alignment="CENTER" VBox.vgrow="ALWAYS" visible="true">
                <Label text="Select an item to view details" styleClass="no-selection-label" />
            </VBox>
        </VBox>
    </SplitPane>
</VBox>